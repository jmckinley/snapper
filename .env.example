# Snapper - Environment Configuration
# Copy this file to .env and customize the values

# ============================================
# REQUIRED SETTINGS
# ============================================

# Application secret key (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here-generate-with-openssl-rand-hex-32

# Database URL
DATABASE_URL=postgresql+asyncpg://snapper:snapper@localhost:5432/snapper

# Redis URL
REDIS_URL=redis://localhost:6379/0

# ============================================
# SECURITY SETTINGS (Recommended Defaults)
# ============================================

# Deny requests by default when no rules match
DENY_BY_DEFAULT=true

# Validate WebSocket origin headers (CVE-2026-25253 mitigation)
VALIDATE_WEBSOCKET_ORIGIN=true

# Restrict access to localhost only
REQUIRE_LOCALHOST_ONLY=true

# Allowed origins for CORS/WebSocket
ALLOWED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# Allowed hosts for Host header validation
ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================
# OPTIONAL SETTINGS
# ============================================

# Application mode
DEBUG=false
ENVIRONMENT=production
LOG_LEVEL=INFO

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT_MAX_REQUESTS=100
RATE_LIMIT_DEFAULT_WINDOW_SECONDS=60

# Circuit breaker
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30
CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=3

# Celery (task queue)
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ============================================
# EXTERNAL API KEYS (Optional)
# ============================================

# NVD API key for vulnerability data
# Get one at: https://nvd.nist.gov/developers/request-an-api-key
NVD_API_KEY=

# GitHub token for security advisories
# Generate at: https://github.com/settings/tokens
GITHUB_TOKEN=

# ============================================
# ALERTING (Optional)
# ============================================

# Email alerts (SMTP)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=alerts@snapper.local

# Slack webhook URL
SLACK_WEBHOOK_URL=

# Telegram (popular with OpenClaw users)
# Get bot token from @BotFather: https://t.me/BotFather
# Get your chat ID from @userinfobot: https://t.me/userinfobot
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# PagerDuty API key (for critical alerts)
PAGERDUTY_API_KEY=

# Generic webhook URL
GENERIC_WEBHOOK_URL=
